<ion-toolbar>
  <ion-buttons slot="start">
    <ion-button>
      <ion-back-button Animation  defaultHref="/home" style="color:grey" icon="arrow-back"></ion-back-button>
    </ion-button>
  </ion-buttons>
  <ion-searchbar [(ngModel)]="query" (ionInput)="onSearchChange($event)" class="custom"></ion-searchbar>
</ion-toolbar>
<ion-content class="ion-padding">
  <ion-list class="flex justify-center gap-3">
    <ion-item lines="none" class="item-style" *ngFor="let button of buttons; let i = index">
      <ion-button [color]="selectedButton === i ? 'primary' : 'light'" (click)="toggleButton(i)" shape="round">
        <ion-text class="font-medium">{{ button }}</ion-text>
      </ion-button>
    </ion-item>
  </ion-list>

  <ion-item  *ngIf="searchResults$ | async as searchResults">
    <ion-text>{{ "Total" | translate }} {{searchResults.length}}</ion-text>
  </ion-item>
  <ion-list *ngFor="let item of searchResults$ | async">
    @if(searchFilter == 'album') {
      <app-horizontal-card-item [album]="item"></app-horizontal-card-item>
    } @else if(searchFilter == 'song') {
      <app-horizontal-card-item [song]="item"></app-horizontal-card-item>
    }@else if(searchFilter == 'artist') {
      <app-horizontal-card-item [artist]="item"></app-horizontal-card-item>
    }@else {
      <app-horizontal-card-item [element]="item"></app-horizontal-card-item>
    }
    
  </ion-list>

  <!--<ion-item *ngIf="searchResults$ | async as searchResults">
    <ion-text>{{ "Recently Searched" | translate }}</ion-text>
  </ion-item>
  <ion-list *ngIf="recentsearchs.length > 0">
    <ion-item *ngFor="let item of recentsearchs">
      <app-horizontal-card-item [element]="item"></app-horizontal-card-item>
    </ion-item>
  </ion-list>
  <ion-label (click)="removeAll()" class="items-center flex pb-6 font-extralight pt-2">{{ "Clear all recent search" | translate }}</ion-label>

  <div *ngIf="recentsearchs === null || recentsearchs.length === 0" class="h-28 text-center flex items-center justify-center">
    <ion-text>
      <h1 class="text-base font-bold">{{ "Play what you love" | translate }}</h1>
      <h3 class="text-sm font-light text-slate-500">{{ "Search for artists, songs or albums" | translate }}</h3>
    </ion-text>
  </div>

  <ion-item *ngIf="mostsearchs">
    <ion-text>{{ "Most Searched" | translate }}</ion-text>
  </ion-item>
  <ion-list *ngFor="let item of mostsearchs">
    <app-horizontal-card-item [element]="item"></app-horizontal-card-item>
  </ion-list>-->
</ion-content>
